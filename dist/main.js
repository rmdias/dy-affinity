!function(t){var e={};function r(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";r.r(e);class n{constructor({name:t,url:e,eventType:r}){this.name=t,this.url=e,this.eventType=r}}class a{constructor({name:t}){this.name=t,this.affinity=0,this.items=[]}}var o="CSE_Challenge",i={PAGE_VIEW:1,ADD_CART:3};class s{constructor(){this.storage=this.getStorage()}countAffinity(t,e,r){const o=e.toUpperCase(),s=this.storage[o]||new a({name:o});s.affinity=s.affinity+i[r],s.items.push(new n({...t})),this.storage[o]=s,this.setStorage(this.storage)}getStorage(t){const e=JSON.parse(localStorage.getItem(o));if(t){const r=t.toUpperCase();return e?e[r]:new a({name:r})}return e||{}}setStorage(t){localStorage.setItem(o,JSON.stringify(t)),this.updateStorageReference()}updateStorageReference(){this.storage=this.getStorage()}}var c=["womens-new-arrivals","latest-mens-fashion","apartment-new-arrivals","new-music-tech","new-beauty-products"];class u{constructor(t=new s){this.localStorageManager=t,this.productCategory=utag_data.category_id,this.eventType="PAGE_VIEW",c.indexOf(this.productCategory)>=0&&this.track()}track(){const t={eventType:this.eventType,name:utag_data.product_name[0],url:location.href};this.localStorageManager.countAffinity(t,this.productCategory,this.eventType)}}class l{constructor(t=new s){if(this.localStorageManager=t,this.productCategory=utag_data.category_id,this.eventType="ADD_CART",c.indexOf(this.productCategory)>=0){document.querySelector(".c-product-add-to-cart__button").addEventListener("click",()=>{this.track()})}}track(){const t={eventType:this.eventType,name:utag_data.product_name[0],url:location.href};this.localStorageManager.countAffinity(t,this.productCategory,this.eventType)}}new u,new l}]);